## 组合模式

**模式定义**

将对象组合成树型结构以表示“部分-整体”的层次结构，组合模式使得用户对单个对象和组合对象的使用具有一致性。

## 优点
1. 定义了包含基本对象和组合对象的类层次结构在组合模式中，基本对象可以被组合成复杂的组合对象，
而组合对象又可以组合成更复杂的组合对象，可以不断地递归组合下去，从而构成一个统一的组合对象的类层次结构。
1. 统一了组合对象和叶子对象
在组合模式中，可以把叶子对象当作特殊的组合对象看待，为它们定义统一的父类，从而把组合对象和叶子对象的行为统一起来。
1. 简化了客户端调用
组合模式通过统一组合对象和叶子对象，使得客户端在使用它们的时候，不需要再去区分它们，
客户不关心使用的到底是什么类型的对象，这就大大简化了客户端的使用。
1. 更容易扩展
由于客户端是统一地面对Component 来操作，因此，新定义的Composite 或Leaf子类能够很容易地与已有的结构一起工作，
而客户端不需要为增添了新的组件类而改变。

## 缺点
很难限制组合中的组件类型。这在需要检测组件类型的时候，使得我们不能依靠编译期的类型约束来完成，
必须在运行期间动态检测。

## 本质
组合模式的本质：统一叶子对象和组合对象。

组合模式通过把叶子对象当成特殊的组合对象看待，从而对叶子对象和组合对象一视同仁，全部当成了Component 对象，
有机地统一了叶子对象和组合对象。

## 使用场景
建议在以下情况中选用组合模式。

1. 如果你想表示对象的部分—整体层次结构，可以选用组合模式，把整体和部分的操作统一起来，
使得层次结构实现更简单，从外部来使用这个层次结构也容易。
2. 如果你希望统一地使用组合结构中的所有对象，可以选用组合模式，这正是组合模式提供的主要功能。

